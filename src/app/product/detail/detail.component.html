<body>
	<div class="container" id="mobile">
		<div class="row ">
			<ol class="breadcrumb font-mobile">
				<a href="/"><i class="icon fa fa-home"></i> Home</a> /
				<a href="/maintenance-prd/"> {{category}}</a> /
				<a href="#"> {{product.name}}</a>
			</ol>

		</div>
		<div class="row">
			<div class="col-md-5">
				<div *ngIf='imagesSource.length>1' class="row">
					<div class="col-md-2"
						style="position: absolute; background-color: #cf69f9; opacity: 1; z-index: 5;">
						<h4 style="color: white;">MỚI</h4>
					</div>
					<div class="col-md-4 col-md-offset-2" id="freeshipicon"
						style="position: absolute; background-color: #69d9f9; z-index: 5;">
						<h4 style="color: white;">FREESHIP</h4>
					</div>

					<div class="Slide-product">
						<img (click)="zoomImg()" class="list-image img-responsive fade center-block" src="{{imgDisplay}}" alt="">
					</div>

					<a class="prev" style="margin-top: 40%" (click)="plusSlides(-1)">❮</a>
					<a class="next" style="margin-top: 40%" (click)="plusSlides(1)">❯</a>
					<div
						style="position: relative; overflow-x: scroll; overflow-y: hidden; width: 100%;"
						class="scrollmenu">
						<div *ngFor="let item of imagesSource let i=index" style="width: 25%;">
							<div *ngIf="i==0" style="background-color: #d639d2">
								<img (click)="currentSlide(i)"
									class="img-responsive cursor item-product-detail"
									src="{{item}}"
								>
							</div>
							<div *ngIf="i!=0">
								<img (click)="currentSlide(i)"
									class="img-responsive cursor item-product-detail"
									src="{{item}}"
								alt="image">
							</div>
						</div>

					</div>

				</div>
				<div *ngIf='imagesSource.length==1&&imagesSource[0]!=""' class="row" style="text-align: center">
				<img
									class="img-responsive cursor item-product-detail"
									src="{{imagesSource[0]}}"
								alt="image">
				</div>
				<div *ngIf="zoomImage" class="modal">
					<span id="closeImg" class="close">&times;</span>
					<img class="modal-content" src="{{imgDisplay}}">
				</div>
			</div>
			<div class="col-md-7">
				<div class="row">
					<br>
				</div>
				<div class="row">
					<div class="col-md-6">
						<h2 style="" class="font-mobile">
							<b>{{product.name}}</b>
						</h2>
					</div>

				</div>
				
				<div *ngIf="sizes!=undefined" class="row">
					<div class="col-xs-6 col-xs-offset-3 col-md-6 col-md-offset-3">
						<div style="position: relative; min-height: 100px;">
							<select class="form-control" id="idselect"
								[(ngModel)]="selectedSize" (change)="handleSelectedSize(this)"
								style="font-size: 200%; min-height: 70px;">
								<option class="dropdown-content1" style="font-size: 150%;"
									*ngFor="let item of sizes" [value]="item.size">{{item.size}}
								</option>

							</select>
						</div>
					</div>
				</div>
				<div *ngIf="sizes!=undefined" class="row">
					<div class="col-md-6">
						<div class="row">
							<div class="col-xs-12">
								<h2 class="currency font-mobile"
									style="color: red; font-weight: bold; float: left;" value='0'>{{priceAfter}}</h2>
								<h2 class="font-mobile">
									<a href="" style="font-weight: normal; color: #6b6b6c;">&nbsp;VNĐ</a>
								</h2>
							</div>
						</div>
						<div *ngIf="priceAfter != priceBefore" class="row">
							<div class="col-xs-12">
								<h3 style="color: #6b6b6c; float: left;">Giá cũ là&nbsp;</h3>
								<h3 class="currency"
									style="color: #6b6b6c; text-decoration: line-through;"
									id="price">{{priceBefore}} VNĐ</h3>
							</div>
						</div>
					</div>
					<div class="col-md-5 col-md-offset-1">
						<h4 style="text-align: center;" class="font-mobile">Số lượng:
						</h4>
						<div class="row">
							<div class="col-xs-offset-4 col-xs-4 col-md-offset-2 col-md-8">
								<div class="input-group">
									<span class="input-group-btn">
										<button class="btn btn-default" type="button" id="minus"
											(click)="minus()">-</button>
									</span> <input class="form-control" id="quantity"
										style="font-weight: bold; font-size: 200%; text-align: center;"
										[(ngModel)]="quantity"> <span class="input-group-btn">
										<button class="btn btn-default" type="button" id="plus"
											(click)="plus()">+</button>
									</span>
								</div>
							</div>
						</div>

					</div>
				</div>
				<div *ngIf="sizes!=undefined" class="row">
					<div class="col-md-6 col-md-offset-3">
						<h4
							style="color: #6b6b6c; font-style: italic; text-align: center;"
							class="font-mobile">
							Thành tiền: <a href="" style="color: red; font-style: italic"
								id="thanhtien">{{total}}</a> vnđ
						</h4>
					</div>
				</div>
				<div *ngIf="sizes!=undefined" class="row">
					<div class="col-xs-6 col-md-6">
						<button onclick="muangay()" class="button-image col-xs-12">
							<img src="../../../assets/img/muangay.png" class="img-responsive col-xs-12">
						</button>
					</div>
					<div class="col-xs-6 col-md-6">
						<button class="button-image col-xs-12">
							<img src="../../../assets/img/themvaogio.png" class="img-responsive col-xs-12"
								(click)="addToCart()">
						</button>
					</div>

				</div>
				<br>
				<div *ngIf='imagesSource.length>1' class="row">
					<div class="col-md-offset-3 col-xs-offset-3 col-xs-6 col-md-6">
						<a
							href="/maintenance-prd/<%=(keyword==undefined || keyword=='undefined'||keyword.trim()=='')?result[0].catflt==null?'All':result[0].catflt.replace(/ /g, '-'):'Search?'+keyword %>"
							class="button-image col-xs-12 center-block"> <img
							src="../../../assets/img/xemthem.png" class="img-responsive col-xs-12"
							style="margin-left: 8px;">
						</a>
					</div>
				</div>
				<div *ngIf="product.description != ''" class="row" style="position: relative; height: 100%">
					<div class="row">
						<div class="col-md-12">
							<div class="font-mobile"
								style="background-color: #f3e6e6; height: 100%;">
								<p id="information" style="word-wrap: break-word;">{{product.information}}</p>
							</div>
						</div>
					</div>
				</div>


			</div>


		</div>

		<div class="row">
			<br> <br> <br>
			<div class="col-md-12 col-xs-12">
				<p id='descriptionArea' name='descriptionArea'
					style="font-size: 20px;" [innerHTML]="description"></p>
			</div>
		</div>
	</div>
</body>

<!-- image slide -->
<script>

</script>
<!-- quantity -->

<!-- Menu size -->
<script>
	function displaySize() {
		document.getElementById("myDropdown").classList.toggle("show");
	}
</script>
<script type="text/javascript">
	var currents = document.getElementsByClassName("currency");
	var decimals = 0;
	for (i = 0; i < currents.length; i++) {
		var pnumber = currents[i].innerHTML;
		if (isNaN(pnumber)) {
			result = 0
		}
		;
		if (pnumber == '') {
			result = 0
		}
		;
		var snum = new String(pnumber);
		var result = '';
		j = snum.length - 1;
		dem = 1;
		while (j >= 0) {
			if (dem % 4 != 0) {
				result = snum[j] + result;
				j--;
				dem++;
			} else {
				result = '.' + result;
				dem = 1;
			}
		}
		if (currents[i].id == "dictprice") {
			currents[i].innerHTML = result;
		} else {
			currents[i].innerHTML = "&nbsp;" + result + "&nbsp";
		}

	}

</script>
<style>
div.scrollmenu {
	background-color: white;
	overflow: auto;
	white-space: nowrap;
	height: auto;
}

div.scrollmenu div {
	display: inline-block;
	color: white;
	text-align: center;
	padding: 5px;
	text-decoration: none;
}

div.scrollmenu a:hover {
	background-color: white;
}
</style>
<script>

	function muangay() {
		/*window.location.href = "/checkout/"+document.getElementById('idselect').value+"/"+document.getElementById('quantity').value;*/
		AddCart();
		window.location.href = "/checkout/cart/0";
	}
</script>